import highlight from '@mdx-deck/themes/syntax-highlighter-prism'

import Slide from "../templates/slide"
import FullViewportSlide from "../templates/full-viewport-slide"
import ImageSlide from "../templates/image-slide"
import CodeBlock from "../components/code-figure"
import A11yDiagram from "../components/a11y-diagram"
import SearchContainer from "../components/search-input"
import AvoidTheMouse from "../components/avoid-mouse"
import UserPopover from "../components/user-popover"
import KeyboardTrapDemo from "../components/demo1"
import CarouselDemo from "../components/demo2"
import DialogTabceptionDemo from "../components/dialog-tabception"
import CanvasDemo from "../components/canvas"
import DataViz from "../components/dataviz"

import baseTheme from '../theme'
export const themes = [baseTheme, highlight]
const openModal = () => {
    document.querySelector('.modal-curtain').removeAttribute('hidden')
}

<Slide>

<h1 class="slide-title">
  <img src="./garbage-pail-components.svg" alt="Garbage Pail Components" />
</h1>

<div style="position: relative;">
<img alt="a dumpster fire" src="./dumpster-fire.svg" style="display: inline-block; max-width: 200px; margin-top: -1.5em; " />
</div>

## By Marcy Sutton

Head of Learning, Gatsby

</Slide>

---

<Slide>

# Accessibility

Making the web more inclusive <br />
**_with_** _and_ **_for_ people with disabilities**

https://www.w3.org/WAI/

</Slide>

---

<Slide>

# Accessibility in JavaScript Applications and on the Web

<span style="display: block; margin: 1em 0; transform: scale(2, 2);" role="img" title="Thinking face">ü§î</span>

<a href="https://shop.smashingmagazine.com/products/smashing-book-6-new-frontiers-in-web-design">
https://shop.smashingmagazine.com/products/<br />smashing-book-6-new-frontiers-in-web-design
</a>

</Slide>

---

<Slide>

<div style="transform: scale(0.65, 0.65)">

![Gatsby logo](./gatsby-icon.png)

</div>

Gatsby is a framework for building websites & component libraries with React.js

</Slide>

---

<Slide>

<p>
  <span class="githubIcon"></span>&nbsp;
  <strong><a href="https://github.com/marcysutton/garbage-pail-components">
    https://github.com/marcysutton/<br />garbage-pail-components
  </a></strong>
</p>
<p>Gatsby,&nbsp;  
  <a href="https://github.com/jxnblk/mdx-deck/tree/master/packages/gatsby-theme">MDX-Deck</a> theme
</p>

</Slide>

---

<Slide>

# The WebAIM Million
https://webaim.org/projects/million/

</Slide>

---

<Slide>

# For people with disabilities out there: **how does it make you feel when a website isn‚Äôt accessible**?

</Slide>

---

<Slide>

> # _‚ÄúIt depends on the web site but I‚Äôd say I mostly feel **frustration** followed by some **anger** if it‚Äôs actually important to me.‚Äù_

</Slide>

---

<Slide>

> # _‚ÄúI get **frustrated**, but then I kind of force myself to move on. The thing that bothers me most is when **sites have really small font or bad color contrast**.‚Äù_

</Slide>

---

<Slide>

> # _‚ÄúI will **leave the site** but in case of banking websites have no option but to look for help makes me feel **dependent**‚Äù_

</Slide>

---

<Slide>

> # _‚ÄúSites with animations make me **dizzy** so I just **close them ASAP**‚Äù_

</Slide>

---


<Slide>

> # _‚ÄúI feel a **twist in the gut**. I feel like **an edge-case** no one else cares about. A **low-priority** ticket in a dusty corner.‚Äù_

</Slide>

---

<Slide>

> # _‚ÄúI feel **excluded**. **Invisible**.‚Äù_

</Slide>

---

<Slide>

# Acknowledge the pain 

people with disabilities<br />encounter on a regular basis

</Slide>

---

<Slide>

<h1 class="visually-hidden">People matter</h1>

![an illustration of a group of diverse people](./people-illustration.png)

</Slide>

---
 
<Slide>

<h1 style="margin-bottom: 0.5em;">Disability</h1>

<A11yDiagram />

</Slide>

---

<Slide>

# UI Components

‚ÄúComponents let you split the UI into independent, reusable pieces, and think about each piece in isolation‚Äù - [React docs](https://facebook.github.io/react/docs/components-and-props.html)

</Slide>

---

<Slide>

# UI Components (revisited)

Components bake in our assumptions about design and development, often embedding barriers to access from a systemic level

</Slide>

---

<Slide>

<img src="./garbage-can.jpg" alt="garbage can" style="height: 80vh" />

</Slide>

---

<Slide>

<h1 class="visually-hidden">Live demo time</h1>

![Garbage Pail Components: Live Demo Devin](./live-demo-devin.jpg)

</Slide>

---

<FullViewportSlide class="popover-demo">

<h2 class="visually-hidden">Demo: a dropdown that avoids the mouse</h2>

<div style="font-size: 1em;">

<AvoidTheMouse>

  <UserPopover />

</AvoidTheMouse>

</div>

</FullViewportSlide>

---

<Slide>

<div>
    <button class="demo-button" onClick={openModal}>Open curtain</button>
    <div style="display: inline-block; margin-left: 1em;">
        <a href="#">Link</a>
    </div>
</div>

<div class="modal-curtain" hidden></div>

</Slide>

---

<FullViewportSlide class="conditional-no-mouse">

<h2 class="visually-hidden">Demo: tabs in a modal</h2>

<DialogTabceptionDemo />

</FullViewportSlide>

---

<Slide>

<img src="/no-mouse.png" alt="a crossed-out mouse target" style="margin-top:-2em; max-width:30vh" />

<CodeBlock>

```sh
npm install no-mouse-days
```

</CodeBlock>

</Slide>

---

<Slide>

# Modal Dialogs

They can be done accessibly...but some native HTML tools would help

- https://bugzilla.mozilla.org/show_bug.cgi?id=840640
- https://github.com/WICG/inert
- https://developer.paciellogroup.com/blog/2018/06/the-current-state-of-modal-dialog-accessibility/

</Slide>

---

<Slide>

<h1 class="visually-hidden">Trapping Tam</h1>

![A kid stuck in glue with objects](./trapping-tam.jpg)

</Slide>

---

<FullViewportSlide class="conditional-no-mouse">

<h2 class="visually-hidden">Demo: keyboard trapping search field</h2>

<div style="font-size: 0.65em;">
  
  <SearchContainer />

</div>

</FullViewportSlide>

---

<Slide>

<KeyboardTrapDemo />

</Slide>

---

<Slide>

# Keyboard Trapping

<div style="min-width: 70vw;">
<div style="display: inline-block; width: 50%;">

<h2>‚úÖ YES</h2>

- modal dialogs
- calendar&nbsp;widgets
- games (maybe)

</div>

<div style="display: inline-block; width: 50%; vertical-align:top;">

<h2>üö´ NO</h2>

- text inputs
- comboboxes
- rich textareas

</div>
</div>

</Slide>

---

<Slide>

<h1 class="visually-hidden">Carousel Cameron</h1>

![A plump kid riding an impaled carousel horse](./carousel-cameron.jpg)

</Slide>

---

<Slide>

<div style="height: 100vh; width: 95vw; overflow: scroll; position: relative;">

<CarouselDemo />

</div>

</Slide>

---

<Slide>

http://shouldiuseacarousel.com/

</Slide>

---

<Slide>

https://www.w3.org/WAI/tutorials/carousels/

</Slide>

---

<Slide>

<h1 class="visually-hidden">Shallow Dom</h1>

![Garbage Pail Components with a boy flattened in the street](./shallow-dom.png)

</Slide>

---

<Slide>

<h1 class="visually-hidden">HTML5 Canvas</h1>

<CanvasDemo />

</Slide>

---

<Slide>

<h1 class="visually-hidden">HTML5 Canvas with fallback text</h1>

<CanvasDemo showFallback="true" />

</Slide>

---

<Slide>

<a href="https://html.spec.whatwg.org/multipage/canvas.html#best-practices" title="WHATWG: Canvas best practices">
  <img src="./canvas-best-practices.png" alt="Canvas Best Practices" />
</a>

</Slide>

---

<Slide>

<h1 class="visually-hidden">Flipboard mobile web with HTML5 canvas</h1>

![Flipboard: 60 FPS on the Mobile web post from February 2015](./flipboard-60fps.jpg)

</Slide>

---

<Slide>

<h1 class="visually-hidden">Flipboard accessibility</h1>

![Flipboard: accessibility needs further exploration](./flipboard-accessibility.png)

</Slide>

---

<Slide>

<h1 class="visually-hidden">React Canvas</h1>

![React-Canvas on GitHub](./react-canvas.png)

</Slide>

---

<Slide>

> The `<canvas>` element is a bitmap and does not provide information about any drawn objects. Content is not exposed to accessibility tools like semantic HTML is. In general, **avoid canvas in a website or app**.

<small><a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility">https://developer.mozilla.org/en-US/docs/Web/API/<br />Canvas_API/Tutorial/Hit_regions_and_accessibility</a></small>

</Slide>

---

<Slide>

<DataViz />

<p>
<a href="https://bocoup.com/blog/smoothly-animate-thousands-of-points-with-html5-canvas-and-d3">
Source: Bocoup
</a>
</p>

</Slide>

---

<Slide>

# Dataviz/Infographics
## Time to get creative

- There might be a simpler solution than 1:1 UX
- Use meaningful text alternatives
- [Reduce motion](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-reduced-motion) if requested
- [Visually hidden](https://a11yproject.com/posts/how-to-hide-content/) tables can work
- Accessible toggles between data formats

</Slide>

---

<Slide>

<img src="/garbage-iceberg.jpg" alt="Tip of the garbage iceberg" />

</Slide>

---

<Slide>

# Don‚Äôt assume:

- Users have perfect vision
- It‚Äôs okay to require a mouse
- Motion doesn‚Äôt cause harm 
- Everyone knows what icons mean
- Content doesn‚Äôt need alternatives
- People fit neatly into boxes

</Slide>

---

<Slide>

# Assumptions<br />in component form

<div style="display: inline-block; width: 50%;">

- No focus styles
- Lack of keyboard access
- Poor contrast, font size
- Inability to zoom
- No screen reader support

</div>

<div style="display: inline-block; width: 50%; vertical-align: top;">

- Autoplaying motion
- Cryptic, unlabeled icons
- No captions or alt. descriptions

</div>

</Slide>

---

<Slide>

# ARIA Authoring Practices Guide

A starting point for interactions and semantics

http://w3c.github.io/aria-practices/

</Slide>

---

<Slide>

# Making your (Gatsby)<br />site accessible

https://www.gatsbyjs.org/docs/making-your-site-accessible

</Slide>

---

<Slide>

# Work with people<br />with disabilities

- [Fable](https://makeitfable.com)
- [Access Works](https://access-works.com) (Knowbility)

<div style="margin-top: 2em; font-style: italic;">
  <small><a href="https://www.youtube.com/watch?v=Tr21FqQQv-U">Inclusive Design 24 Talk</a></small>
</div>

</Slide>

---

<Slide>

# For more accessibility info

- https://marcysutton.com/web-accessibility-resources
- https://webaim.org/projects/screenreadersurvey8/

</Slide>

---

<Slide>

<div style="display: flex; align-items: center;">

<div style="margin-right: 1em;">

![the end](./disk-barf-the-end.jpg)

</div>

<div>

<h1>Thanks,<br />Smashing Conf!</h1>

twitter: [@marcysutton](https://twitter.com/marcysutton)<br />
github: [@marcysutton](https://github.com/marcysutton)<br />
instagram: [@marcysutton](https://instagram.com/marcysutton)

</div>

</div>

</Slide>
